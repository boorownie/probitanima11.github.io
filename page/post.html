<!doctype html>
<html>
<head>
<title>멘땅에 코딩</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="viewport"
	content="width=device-width, initial-scale=1, user-scalable=no">
<link rel="stylesheet" href="/stylesheets/styles.css">
<link rel="stylesheet" href="/stylesheets/pygment_trac.css">
</head>
<body>
	<div class="wrapper">
		<header>
			<h1>멘땅에 코딩</h1>
			<p class="menu">
				<a href="/"> Home </a>
			</p>
			<p class="menu">
				<a href="#"> Post </a>
			</p>
			<p class="menu">
				<a href="/page/dairy.html"> Dairy </a>
			</p>
			<p class="menu">
				<a href="https://github.com/probitanima11"> GitHub </a>
			</p>
		</header>
		<section>
			<div class="sub_menu">
				<a id="menu_all" class="post_menu_all" href="#"> #ALL </a>
				<a>&nbsp; &nbsp; </a>
				<a id="menu_webserver" class="post_menu_webserver" href="#"> #Web Server </a>
				<a>&nbsp; &nbsp; </a>
				<a id="menu_webui" class="post_menu_webui" href="#"> #Web UI </a>
				<a>&nbsp; &nbsp; </a>
				<a id="menu_android" class="post_menu_android" href="#"> #Android </a>
			</div>
			<ul id="post_list"></ul>
			<div id="content"></div>
		</section>
		<footer>
			<p>
				<small>Hosted on GitHub Pages &mdash; Theme by <a
					href="https://github.com/orderedlist">orderedlist</a></small>
			</p>
		</footer>
		<script src="/javascripts/scale.fix.js"></script>
		<script src="/javascripts/utils.js"></script>
		<script>
			var appendPostList = function(json, type) {
				var el = document.querySelector("#post_list");
				el.innerHTML = "";
				for (var i = 0; i < json.length; i++) {
					if (type === "menu_all" || type === json[i].type) {
						var aEl = document.createElement("a");
						aEl.setAttribute("href", "/post/" + json[i].type + "/"
								+ json[i].id);
						var liEl = document.createElement("li");
						var divEl = document.createElement("div");
						divEl.setAttribute("class", "post_card");
						var aTageEl = document.createElement("a");
						aTageEl.setAttribute("class", "post_menu_"+json[i].type.split("_")[1]);
						aTageEl.innerHTML = "#" + json[i].type.split("_")[1];
						divEl.appendChild(aTageEl);
						var h3El = document.createElement("h3");
						h3El.setAttribute("class", "post_name");
						h3El.innerHTML = "_" + json[i].name;
						divEl.appendChild(h3El);
						if (json[i].desc !== undefined) {
							var pEl = document.createElement("p");
							pEl.setAttribute("class", "post_desc");
							pEl.innerHTML = json[i].desc;
							divEl.appendChild(pEl);
						}
						var spanEl = document.createElement("span");
						spanEl.setAttribute("class", "post_date");
						spanEl.innerHTML = json[i].date;
						divEl.appendChild(spanEl);
						liEl.appendChild(divEl);
						aEl.appendChild(liEl);
						el.appendChild(aEl);
					}
				}
			}

			var getPostList = function(type) {
				utils.ajax({
					method : "get",
					url : "/post/post_list.json",
					success : function(req) {
						var json = JSON.parse(req.responseText);
						if (json !== "" || json !== undefined) {
							appendPostList(JSON.parse(req.responseText), type);
						}
					}
				});
			}

			var clickMenuEvent = function(e) {
				getPostList(e.target.id);
			}

			window.addEventListener('load', getPostList("menu_all"));
			document.querySelector("#menu_all").addEventListener("click",
					clickMenuEvent);
			document.querySelector("#menu_webserver").addEventListener("click",
					clickMenuEvent);
			document.querySelector("#menu_webui").addEventListener("click",
					clickMenuEvent);
			document.querySelector("#menu_android").addEventListener("click",
					clickMenuEvent);
		</script>
</body>
</html>