<!doctype html>
<html>
<head>
<title>맨땅에 코딩</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="viewport"
	content="width=device-width, initial-scale=1, user-scalable=no">
<link rel="stylesheet" href="/web/css/styles.css">
<link rel="stylesheet" href="/web/css/pygment_trac.css">
</head>
<body>
	<div class="wrapper">
		<header>
			<h1>맨땅에 코딩</h1>
			<p class="menu">
				<a href="/"> Home </a>
			</p>
			<p class="menu">
				<a href="/web/html/post.html"> Post </a>
			</p>
			<p class="menu">
				<a href="/web/html/dairy.html"> Dairy </a>
			</p>
			<p class="menu">
				<a href="https://github.com/probitanima11"> GitHub </a>
			</p>
		</header>
		<section>
			<!-- 상단 뒤로 돌아가기 버튼 -->
			<a class="back_button" href="/web/html/post.html"> _back </a>
			<!-- 내용 넣기 -->
			<div id="content">
				<h1>서블릿 등록 후 리소스 로드 실패할 경우 처리</h1>

				<p>서블릿을 아래와 같이 등록한 뒤 프로그램을 실행하면 간혹 JS파일이나 CSS파일들이 불러오지 않는 경우가
					있다.</p>

				<p>
					<code>&gt;web.xml</code>
				</p>

				<pre>
<code>&lt;servlet&gt;
    &lt;servlet-name&gt;guinness&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;guinness&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</code>
				</pre>

				<p>
					위와 같이 설정을 하면
					<code>&lt;url-pattern&gt;/&lt;/url-pattern&gt;</code>
					이 부분으로 인해 모든 요청은 DispatcherServlet으로 처리가 된다.
				</p>

				<p>이로인해 JS파일이나 CSS파일 뿐만 아니라 이미지나 HTML파일을 불러오는 요청 마저 컨트롤러로 넘어가는
					문제점이 발생한다.</p>

				<p>이런 경우 spring mvc(XXX-servlet.xml)에서 다음과 같이 설정을 할 수 있다.</p>

				<pre>
<code>&lt;mvc:resources location="/css/" mapping="/css/**" /&gt;
</code>
				</pre>

				<p>-> /css/로 시작하는 모든 요청은 /css 디렉토리에 있는 리소스를 참고하라.</p>

				<p>
					(예제)
					<code>&gt;guinness-servlet.xml</code>
				</p>

				<pre>
<code>&lt;context:component-scan base-package="org.nhnnext.guinness.controller" /&gt;

&lt;mvc:annotation-driven /&gt;

&lt;mvc:resources location="/img/" mapping="/img/**" /&gt;
&lt;mvc:resources location="/favicon/" mapping="/favicon/**" /&gt;
&lt;mvc:resources location="/fonts/" mapping="/fonts/**" /&gt;
&lt;mvc:resources location="/js/" mapping="/js/**" /&gt;
&lt;mvc:resources location="/css/" mapping="/css/**" /&gt;

&lt;bean id="viewResolver"
    class="org.springframework.web.servlet.view.InternalResourceViewResolver"
    p:prefix="/WEB-INF/jsp/" p:suffix=".jsp" /&gt;
</code>
				</pre>
			</div>
			<!-- 하단 뒤로 돌아가기 버튼 -->
			<a class="back_button" href="/web/html/post.html"> _back </a>
			<!-- 댓글 -->
			<div id="disqus_thread"></div>
			<script type="text/javascript">
				/* * * CONFIGURATION VARIABLES * * */
				var disqus_shortname = 'probitanima11';

				/* * * DON'T EDIT BELOW THIS LINE * * */
				(function() {
					var dsq = document.createElement('script');
					dsq.type = 'text/javascript';
					dsq.async = true;
					dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
					(document.getElementsByTagName('head')[0] || document
							.getElementsByTagName('body')[0]).appendChild(dsq);
				})();
			</script>
			<noscript>
				Please enable JavaScript to view the <a
					href="https://disqus.com/?ref_noscript" rel="nofollow">comments
					powered by Disqus.</a>
			</noscript>
		</section>

		<footer>
			<p>
				<small>Hosted on GitHub Pages &mdash; Theme by <a
					href="https://github.com/orderedlist">orderedlist</a></small>
			</p>
		</footer>
	</div>
	<script src="/web/javascript/scale.fix.js"></script>
</body>
</html>